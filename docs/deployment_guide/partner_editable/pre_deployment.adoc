//Include any predeployment steps here, such as signing up for a Marketplace AMI or making any changes to a Partner account. If there are none leave this file empty.

== Predeployment steps


=== Prepare your AWS account

This Quick Start assumes that you already have Amazon ECR repositories or Lambda functions provisioned in your account.

=== Prepare your {partner-company-name} account
:xrefstyle: short
Regardless of which Quick Start option you choose, log in to your https://app.snyk.io/[Snyk account^], as shown in <<settings1>>, and obtain your organization ID.
[#settings1]
.Snyk Settings page
image::../docs/deployment_guide/images/snyk_org_id_settings.png[Snyk Organization ID,width=100%,height=100%]

=== Automated configuration for Amazon ECR
If you deploy Snyk security using the automated configuration option for Amazon ECR, obtain an API authentication token. The token automates the creation of organizations and ECR integrations within Snyk.

You may use either your personal account token, available through your Snyk account's settings page, as shown in <<settings2>>, or a service-account token. Service-account tokens can be generated through the **Settings** page for your organization within Snyk, as shown in <<settings3>>. For more information, refer to https://docs.snyk.io/features/integrations/managing-integrations/service-accounts[Service accounts^].

NOTE: An automated integration of Amazon ECR with Snyk requires a paid Snyk subscription.

[#settings2]
.Snyk account settings page
image::../docs/deployment_guide/images/snyk_api_token_settings.png[Snyk account API token,width=100%,height=100%]

[#settings3]
.Snyk organization service account settings
image::../docs/deployment_guide/images/snyk_service_account_settings.png[Snyk Service Account settings,width=100%,height=100%]


=== Snyk account access

For IAM roles to function, you must connect your Snyk account to your AWS Lambda account. Enter your Snyk ID for the *Snyk AWS account ID* parameter, as shown in <<snyk-aws-account-id>>.


WARNING: This deployment enables Snyk to assume an IAM role in your account.

[#snyk-aws-account-id]
.Snyk account ID for AWS Lambda
image::../docs/deployment_guide/images/snyk-aws-account-id.png[Snyk account ID for AWS Lambda,width=100%,height=100%]
